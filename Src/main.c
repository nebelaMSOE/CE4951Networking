/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
  ******************************************************************************
  Call of tuner sequence in main function.
*/

enum State {IDLE, BUSY, COLLISION};

enum State currentState = IDLE;
/*
 * E1: Any signal bus voltage edge
 * E2: Timer timeout when bus is logic-0
 * E3: Timer timeout when bus is logic-1
 * IDLE -> BUSY (E1)
 * BUSY -> COLLISION (E2)
 * BUSY -> IDLE (E3)
 * COLLISION -> BUSY (E1)
 */

int main(void)
{
	while(){
		switch (currentState)
		{
		case IDLE:
			//Left LEDs on

			// Interrupt when E1

			break;

		case BUSY:
			//Middle LEDs on

			//Interrupt when E2

			//Interrupt when E3

			break;

		case COLLISION:
			//Right LEDs on

			//Interrupt when E1

			break;

		default:
			//Enexpected value for currentState
			//Resetting currentState to initial value
			currentState = IDLE;

			break;
		}
	}
}
